<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org" xmlns:c="http://java.sun.com/jsp/jstl/core">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚úàEfetuar Reservaüèñ</title>
    <link rel="stylesheet" type="text/css" href="/css/style.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
</head>

<body id="reserva"
    style="background: url('/img/fundo.jpg') no-repeat center center fixed; background-size: cover;">

    <header>
        <nav id="header"></nav>
    </header>

    <main class="hidden mt-4">
        <div class="container">
            <h1 class="text-center mb-8 page-title">Efetuar Reserva</h1>
            <div class="search-form">
                <!-- Adicione o ID do pacote no modelo conforme necess√°rio -->
                <form id="reservaForm" class="form-control-sm" method="post" th:object="${reserva}">
				    <input type="hidden" name="idPacote" th:value="${pacote.id}" />
				    <input type="hidden" name="idCliente" th:value="${cliente.id}" />

                    <h2 class="text-center mb-8 page-title">Detalhes do Pacote</h2>
                    <div class="form-group mb-2">
                        <label for="destino">Destino:</label>
                        <input type="text" name="destino" th:value="${pacote.destino}" readonly />
                    </div>

                    <div class="form-group mb-2">
                        <label for="descricao">Descri√ß√£o:</label>
                        <textarea name="descricao" readonly rows="2"
                            style="width: 91%; max-width: 100%;"
                            th:text="${pacote.descricao}"></textarea>
                    </div>

                    <div class="form-group mb-2">
                        <label for="dataPartida">Data de Partida:</label>
                        <input type="text" name="dataPartida" th:value="${pacote.dataPartida}" readonly />
                    </div>

                    <div class="form-group mb-2">
                        <label for="dataRetorno">Data de Retorno:</label>
                        <input type="text" name="dataRetorno" th:value="${pacote.dataRetorno}" readonly />
                    </div>

                    <div class="form-group mb-2">
                        <label for="nomeHotel">Nome do Hotel:</label>
                        <input type="text" name="nomeHotel" th:value="${pacote.nomeHotel}" readonly />
                    </div>

                    <div class="form-group mb-2">
                        <label for="valor">Valor:</label>
                        <input type="text" name="valor" th:value="${pacote.valor}" readonly />
                    </div>

                    <h2 class="text-center mb-8 page-title">Dados do Cliente</h2>
                    <div class="form-group mb-2">
                        <label for="idCliente">ID do Cliente:</label>
                        <input type="text" name="idCliente" class="form-control" />
                        <h6>N√£o sabe o n√∫mero do seu ID de Cliente? N√£o tem problema, basta consultar
                            <a th:href="@{/cliente/listarcliente}">aqui:</a>.</h6>
                    </div>

                    <div class="form-group mb-2" style="text-align: center;">
                        <button class='btn btn-primary' type="submit">Confirmar Reserva</button>
                        <a th:href="@{/reserva/listarreserva}" class="btn btn-secondary" id="btnVoltar">Voltar</a>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <footer> </footer>

    <script>
       	document.addEventListener("DOMContentLoaded", function () {
    	document.getElementById("reservaForm").addEventListener("submit", function (event) {
        // Adicione inputs hidden para indicar que o formul√°rio foi submetido e para os IDs
        var inputSubmitted = document.createElement("input");
        inputSubmitted.type = "hidden";
        inputSubmitted.name = "formSubmitted";
        inputSubmitted.value = "true";
        this.appendChild(inputSubmitted);

        var inputIdPacote = document.createElement("input");
        inputIdPacote.type = "hidden";
        inputIdPacote.name = "idPacote";
        inputIdPacote.value = document.querySelector('input[name="idPacote"]').value;
        this.appendChild(inputIdPacote);

        var inputIdCliente = document.createElement("input");
        inputIdCliente.type = "hidden";
        inputIdCliente.name = "idCliente";
        inputIdCliente.value = document.querySelector('input[name="idCliente"]').value;;
        this.appendChild(inputIdCliente);
    });
});

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="/scripts/function.js"></script>
    <script src="/scripts/components.js"></script>
</body>

</html>
